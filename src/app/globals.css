@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-warning: hsl(var(--warning));
  --color-warning-foreground: hsl(var(--warning-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
  
  /* Animation keyframes for ShadCN components */
  --animate-in: fadeIn 0.2s ease-out;
  --animate-out: fadeOut 0.2s ease-out;
  --animate-spin: spin 1s linear infinite;
  --animate-ping: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
  --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-bounce: bounce 1s infinite;
}

@utility container {
  margin-inline: auto;
  @media (width >= --theme(--breakpoint-sm)) {
    max-width: none;
  }
  @media (width >= 640px) {
    max-width: 640px;
  }
  @media (width >= 768px) {
    max-width: 768px;
  }
  @media (width >= 1024px) {
    max-width: 1024px;
  }
  @media (width >= 1280px) {
    max-width: 1280px;
  }
  @media (width >= 1400px) {
    max-width: 1400px;
  }
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
}

@utility text-balance {
  text-wrap: balance;
}

@layer utilities {
  /* Selection + subtle utility tweaks */
  .text-balance { text-wrap: balance; }
}

/* ShadCN Animation Utilities for Tailwind v4 */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes slideInFromTop {
  from { transform: translateY(-100%); }
  to { transform: translateY(0); }
}

@keyframes slideInFromBottom {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

@keyframes slideInFromLeft {
  from { transform: translateX(-100%); }
  to { transform: translateX(0); }
}

@keyframes slideInFromRight {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

@keyframes slideOutToTop {
  from { transform: translateY(0); }
  to { transform: translateY(-100%); }
}

@keyframes slideOutToBottom {
  from { transform: translateY(0); }
  to { transform: translateY(100%); }
}

@keyframes slideOutToLeft {
  from { transform: translateX(0); }
  to { transform: translateX(-100%); }
}

@keyframes slideOutToRight {
  from { transform: translateX(0); }
  to { transform: translateX(100%); }
}

@keyframes zoomIn {
  from { transform: scale(0.95); }
  to { transform: scale(1); }
}

@keyframes zoomOut {
  from { transform: scale(1); }
  to { transform: scale(0.95); }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes ping {
  75%, 100% {
    transform: scale(2);
    opacity: 0;
  }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: .5; }
}

@keyframes bounce {
  0%, 100% {
    transform: translateY(-25%);
    animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
  }
  50% {
    transform: translateY(0);
    animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
  }
}

/* ShadCN Animation Utilities */
@utility animate-in {
  animation: fadeIn 0.2s ease-out;
}

@utility animate-out {
  animation: fadeOut 0.2s ease-out;
}

@utility fade-in-0 {
  animation: fadeIn 0.15s ease-out;
}

@utility fade-out-0 {
  animation: fadeOut 0.15s ease-out;
}

@utility fade-out-80 {
  animation: fadeOut 0.15s ease-out;
  opacity: 0.2;
}

@utility zoom-in-95 {
  animation: zoomIn 0.15s ease-out;
  transform-origin: center;
}

@utility zoom-out-95 {
  animation: zoomOut 0.15s ease-out;
  transform-origin: center;
}

@utility slide-in-from-top-full {
  animation: slideInFromTop 0.2s ease-out;
}

@utility slide-in-from-bottom-full {
  animation: slideInFromBottom 0.2s ease-out;
}

@utility slide-in-from-left-1/2 {
  animation: slideInFromLeft 0.2s ease-out;
  transform: translateX(-50%);
}

@utility slide-in-from-top-48% {
  animation: slideInFromTop 0.2s ease-out;
  transform: translateY(-48%);
}

@utility slide-out-to-left-1/2 {
  animation: slideOutToLeft 0.2s ease-out;
  transform: translateX(-50%);
}

@utility slide-out-to-top-48% {
  animation: slideOutToTop 0.2s ease-out;
  transform: translateY(-48%);
}

@utility slide-out-to-right-full {
  animation: slideOutToRight 0.2s ease-out;
}

@utility slide-in-from-top-2 {
  animation: slideInFromTop 0.15s ease-out;
  transform: translateY(-8px);
}

@utility slide-in-from-bottom-2 {
  animation: slideInFromBottom 0.15s ease-out;
  transform: translateY(8px);
}

@utility slide-in-from-left-2 {
  animation: slideInFromLeft 0.15s ease-out;
  transform: translateX(-8px);
}

@utility slide-in-from-right-2 {
  animation: slideInFromRight 0.15s ease-out;
  transform: translateX(8px);
}

@utility animate-spin {
  animation: spin 1s linear infinite;
}

@utility animate-ping {
  animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
}

@utility animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@utility animate-bounce {
  animation: bounce 1s infinite;
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 224 71.4% 4.1%;
    --card: 0 0% 100%;
    --card-foreground: 224 71.4% 4.1%;
    --popover: 0 0% 100%;
    --popover-foreground: 224 71.4% 4.1%;
    --primary: 262.1 83.3% 57.8%;
    --primary-foreground: 210 20% 98%;
    --secondary: 220 14.3% 95.9%;
    --secondary-foreground: 220.9 39.3% 11%;
    --muted: 220 14.3% 95.9%;
    --muted-foreground: 220 8.9% 46.1%;
    --accent: 220 14.3% 95.9%;
    --accent-foreground: 220.9 39.3% 11%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 20% 98%;
    --warning: 25 95% 53%;
    --warning-foreground: 210 20% 98%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 262.1 83.3% 57.8%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;
    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;
    --primary: 263.4 70% 50.4%;
    --primary-foreground: 210 20% 98%;
    --secondary: 215 27.9% 16.9%;
    --secondary-foreground: 210 20% 98%;
    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%;
    --accent: 215 27.9% 16.9%;
    --accent-foreground: 210 20% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 20% 98%;
    --warning: 25 85% 60%;
    --warning-foreground: 210 20% 98%;
    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 263.4 70% 50.4%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}


@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
  html { scroll-behavior: smooth; }

  /* Better text rendering */
  body {
    font-feature-settings: "rlig" 1, "calt" 1, "cv02" 1, "cv03" 1, "cv04" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  ::selection {
    background: hsl(var(--primary) / 0.16);
    color: hsl(var(--foreground));
  }
}

/* Decorative utility backgrounds (theme-aware) */
@layer utilities {
  .bg-grid {
    background-image: linear-gradient(
        to right,
        hsl(var(--border) / 0.35) 1px,
        transparent 1px
      ),
      linear-gradient(
        to bottom,
        hsl(var(--border) / 0.35) 1px,
        transparent 1px
      );
    background-size: 28px 28px, 28px 28px;
    mask-image: radial-gradient(circle at center, black 40%, transparent 70%);
  }

  .bg-radial-fade {
    background-image: radial-gradient(
      800px 400px at 50% -10%,
      hsl(var(--primary) / 0.10),
      transparent 70%
    );
  }

  .glass {
    background-color: hsl(var(--card) / 0.6);
    backdrop-filter: blur(12px);
  }

  /* Subtle animated glow utilities */
  @keyframes float-glow {
    from {
      transform: translateY(0) scale(1);
      opacity: 0.16;
    }
    to {
      transform: translateY(-10px) scale(1.05);
      opacity: 0.26;
    }
  }
  .animated-glow {
    position: absolute;
    border-radius: 9999px;
    filter: blur(90px);
    will-change: transform, opacity;
    animation: float-glow 12s ease-in-out infinite alternate;
    pointer-events: none;
  }
  @media (prefers-reduced-motion: reduce) {
    .animated-glow { animation: none; }
  }
  .glow-primary {
    background: radial-gradient(
      circle at center,
      hsl(var(--primary) / 0.35),
      transparent 70%
    );
  }
  .glow-accent {
    background: radial-gradient(
      circle at center,
      hsl(var(--accent) / 0.30),
      transparent 70%
    );
  }
}
